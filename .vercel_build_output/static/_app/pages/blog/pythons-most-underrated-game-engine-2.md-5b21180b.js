import{S as mp,i as bp,s as wp,D as Ve,x as vp,y as _p,z as gp,A as Ep,B as Fo,r as xp,p as Ip,C as Tp,P as Ko,e as o,t,k as i,c as p,a as c,h as e,d as s,m as r,b as y,g as u,F as a,n as Hp}from"../../chunks/index-a4305d86.js";import{B as Cp}from"../../chunks/BlogPostLayout-2987b3f1.js";import"../../chunks/Article-1fb784f3.js";import"../../chunks/PageHeading-8fc8889e.js";import"../../chunks/index-e10c4c74.js";function Pp(en){let k,m,S,V,f,T,q,G,on,ya,ma,_s,pn,ba,gs,v,wa,Dn,va,_a,Bn,ga,Ea,F,xa,Ia,Es,cn,Ta,xs,K,$o=`<code class="language-py"><span class="token keyword">class</span> <span class="token class-name">Vec2</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y
        self<span class="token punctuation">.</span>magnitude <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">normalized</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">/</span> self<span class="token punctuation">.</span>magnitude<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">/</span> self<span class="token punctuation">.</span>magnitude<span class="token punctuation">)</span></code>`,Is,H,Ha,Sn,Ca,Pa,Vn,za,Da,Ts,b,Ba,Ln,Sa,Va,On,La,Oa,Rn,Ra,Aa,An,Wa,Na,Hs,ln,ja,Cs,U,Zo=`<code class="language-py">vector_1 <span class="token operator">=</span> Vec2<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
vector_2 <span class="token operator">=</span> Vec2<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
vector_sum <span class="token operator">=</span> Vec2<span class="token punctuation">(</span>vector_1<span class="token punctuation">.</span>x <span class="token operator">+</span> vector_2<span class="token punctuation">.</span>x<span class="token punctuation">,</span> vector_1<span class="token punctuation">.</span>y <span class="token operator">+</span> vector_2<span class="token punctuation">.</span>y<span class="token punctuation">)</span></code>`,Ps,C,Ma,Wn,Ya,qa,Nn,Ga,Fa,zs,$,Qo=`<code class="language-py"><span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">+</span> other<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">+</span> other<span class="token punctuation">.</span>y<span class="token punctuation">)</span></code>`,Ds,un,Ka,Bs,_,Ua,jn,$a,Za,Mn,Qa,Ja,Yn,Xa,nt,Ss,Vs,Ls,rn,st,Os,Z,Jo=`<code class="language-py"><span class="token keyword">class</span> <span class="token class-name">Vec2</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y
        self<span class="token punctuation">.</span>magnitude <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>other<span class="token punctuation">,</span> Vec2<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">"Only 2 Vec2 can be added to each other!"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">+</span> other<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">+</span> other<span class="token punctuation">.</span>y<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__sub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>other<span class="token punctuation">,</span> Vec2<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">"Only a Vec2 can be subtracted from another!"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">-</span> other<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">-</span> other<span class="token punctuation">.</span>y<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__mul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> scalar<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>scalar<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">"A Vec2 can only be mulitplied by a scalar!"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">*</span> scalar<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">*</span> scalar<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__truediv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> scalar<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>scalar<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">"A Vec2 can only be divided by a scalar!"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">/</span> scalar<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">/</span> scalar<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">normalized</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self <span class="token operator">/</span> self<span class="token punctuation">.</span>magnitude</code>`,Rs,R,at,qn,tt,et,As,h,ot,Gn,pt,ct,Fn,lt,ut,Kn,it,rt,Un,kt,ft,kn,ht,dt,Ws,w,yt,$n,mt,bt,Zn,wt,vt,Qn,_t,gt,Jn,Et,Ns,P,xt,Xn,It,Tt,ns,Ht,Ct,js,Q,Xo=`<code class="language-py"><span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    pyxel<span class="token punctuation">.</span>cls<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    pyxel<span class="token punctuation">.</span>circ<span class="token punctuation">(</span>self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span> BALL_SIZE<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> bat <span class="token keyword">in</span> self<span class="token punctuation">.</span>bats<span class="token punctuation">:</span>
        pyxel<span class="token punctuation">.</span>rect<span class="token punctuation">(</span>bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">.</span>x1<span class="token punctuation">,</span> bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">.</span>y1<span class="token punctuation">,</span> bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">.</span>x2<span class="token punctuation">,</span> bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">.</span>y2<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
    pyxel<span class="token punctuation">.</span>text<span class="token punctuation">(</span>SCREEN_WIDTH <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> SCREEN_HEIGHT <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span></code>`,Ms,A,Pt,ss,zt,Dt,Ys,fn,Bt,qs,J,np=`<code class="language-py"><span class="token keyword">from</span> collections <span class="token keyword">import</span> namedtuple
<span class="token keyword">import</span> math
<span class="token keyword">import</span> pyxel

SCREEN_WIDTH <span class="token operator">=</span> <span class="token number">255</span>
SCREEN_HEIGHT <span class="token operator">=</span> <span class="token number">120</span>

HitBox <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">"HitBox"</span><span class="token punctuation">,</span> <span class="token string">"x1 y1 x2 y2"</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Vec2</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y
        self<span class="token punctuation">.</span>magnitude <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>other<span class="token punctuation">,</span> Vec2<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">"Only 2 Vec2 can be added to each other!"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">+</span> other<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">+</span> other<span class="token punctuation">.</span>y<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__sub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>other<span class="token punctuation">,</span> Vec2<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">"Only a Vec2 can be subtracted from another!"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">-</span> other<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">-</span> other<span class="token punctuation">.</span>y<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__mul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> scalar<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>scalar<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">"A Vec2 can only be mulitplied by a scalar!"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">*</span> scalar<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">*</span> scalar<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__truediv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> scalar<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>scalar<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string">"A Vec2 can only be divided by a scalar!"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">/</span> scalar<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">/</span> scalar<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">normalized</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self <span class="token operator">/</span> self<span class="token punctuation">.</span>magnitude


<span class="token keyword">class</span> <span class="token class-name">Ball</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> px<span class="token punctuation">,</span> py<span class="token punctuation">,</span> vx<span class="token punctuation">,</span> vy<span class="token punctuation">,</span> speed<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>position <span class="token operator">=</span> Vec2<span class="token punctuation">(</span>px<span class="token punctuation">,</span> py<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>speed <span class="token operator">=</span> speed
        self<span class="token punctuation">.</span>size <span class="token operator">=</span> size
        self<span class="token punctuation">.</span>velocity <span class="token operator">=</span> Vec2<span class="token punctuation">(</span>vx<span class="token punctuation">,</span> vy<span class="token punctuation">)</span><span class="token punctuation">.</span>normalized<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>speed

    <span class="token keyword">def</span> <span class="token function">changeSpeedBy</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>speed <span class="token operator">*=</span> number
        self<span class="token punctuation">.</span>velocity <span class="token operator">=</span> self<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>normalized<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>speed

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">+=</span> self<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+=</span> self<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">=</span> SCREEN_HEIGHT <span class="token operator">-</span> self<span class="token punctuation">.</span>size<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span>self<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> self<span class="token punctuation">.</span>size<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span>self<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y


<span class="token keyword">class</span> <span class="token class-name">Bat</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> px<span class="token punctuation">,</span> py<span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>position <span class="token operator">=</span> Vec2<span class="token punctuation">(</span>px<span class="token punctuation">,</span> py<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>size <span class="token operator">=</span> size
        self<span class="token punctuation">.</span>hitBox <span class="token operator">=</span> HitBox<span class="token punctuation">(</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">-</span> self<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">-</span> self<span class="token punctuation">.</span>size<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">+</span> self<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+</span> self<span class="token punctuation">.</span>size<span class="token punctuation">,</span>
        <span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+=</span> self<span class="token punctuation">.</span>velocity
        self<span class="token punctuation">.</span>hitBox <span class="token operator">=</span> HitBox<span class="token punctuation">(</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">-</span> self<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">-</span> self<span class="token punctuation">.</span>size<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">+</span> self<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+</span> self<span class="token punctuation">.</span>size<span class="token punctuation">,</span>
        <span class="token punctuation">)</span>

        <span class="token keyword">if</span> pyxel<span class="token punctuation">.</span>btnp<span class="token punctuation">(</span>pyxel<span class="token punctuation">.</span>KEY_W<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>

        <span class="token keyword">if</span> pyxel<span class="token punctuation">.</span>btnp<span class="token punctuation">(</span>pyxel<span class="token punctuation">.</span>KEY_S<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token number">2</span>

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">-</span> self<span class="token punctuation">.</span>size <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> self<span class="token punctuation">.</span>size
            self<span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">if</span> self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+</span> self<span class="token punctuation">.</span>size <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> SCREEN_HEIGHT<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> SCREEN_HEIGHT <span class="token operator">-</span> self<span class="token punctuation">.</span>size
            self<span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token number">0</span>


<span class="token keyword">class</span> <span class="token class-name">App</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pyxel<span class="token punctuation">.</span>init<span class="token punctuation">(</span>SCREEN_WIDTH<span class="token punctuation">,</span> SCREEN_HEIGHT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>ball <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">0</span>
        pyxel<span class="token punctuation">.</span>run<span class="token punctuation">(</span>self<span class="token punctuation">.</span>update<span class="token punctuation">,</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> pyxel<span class="token punctuation">.</span>btnp<span class="token punctuation">(</span>pyxel<span class="token punctuation">.</span>KEY_Q<span class="token punctuation">)</span><span class="token punctuation">:</span>
            pyxel<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">=</span> SCREEN_WIDTH <span class="token operator">-</span> self<span class="token punctuation">.</span>size<span class="token punctuation">:</span>
            pyxel<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> self<span class="token punctuation">.</span>size<span class="token punctuation">:</span>
            pyxel<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pyxel<span class="token punctuation">.</span>cls<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        pyxel<span class="token punctuation">.</span>circ<span class="token punctuation">(</span>self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span> self<span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
        pyxel<span class="token punctuation">.</span>text<span class="token punctuation">(</span>SCREEN_WIDTH <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> SCREEN_HEIGHT <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">App</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pyxel<span class="token punctuation">.</span>init<span class="token punctuation">(</span>SCREEN_WIDTH<span class="token punctuation">,</span> SCREEN_HEIGHT<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>ball <span class="token operator">=</span> Ball<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>bats <span class="token operator">=</span> <span class="token punctuation">[</span>Bat<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Bat<span class="token punctuation">(</span>SCREEN_WIDTH <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">0</span>
        pyxel<span class="token punctuation">.</span>run<span class="token punctuation">(</span>self<span class="token punctuation">.</span>update<span class="token punctuation">,</span> self<span class="token punctuation">.</span>draw<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> pyxel<span class="token punctuation">.</span>btnp<span class="token punctuation">(</span>pyxel<span class="token punctuation">.</span>KEY_Q<span class="token punctuation">)</span><span class="token punctuation">:</span>
            pyxel<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> bat <span class="token keyword">in</span> self<span class="token punctuation">.</span>bats<span class="token punctuation">:</span>
            bat<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>
                bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">.</span>x1 <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">.</span>x2
                <span class="token keyword">and</span> bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">.</span>y1 <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">.</span>y2
            <span class="token punctuation">)</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token operator">-</span>self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>x
                self<span class="token punctuation">.</span>score <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">=</span> SCREEN_WIDTH <span class="token operator">-</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>size<span class="token punctuation">:</span>
            pyxel<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>size<span class="token punctuation">:</span>
            pyxel<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pyxel<span class="token punctuation">.</span>cls<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        pyxel<span class="token punctuation">.</span>circ<span class="token punctuation">(</span>self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> bat <span class="token keyword">in</span> self<span class="token punctuation">.</span>bats<span class="token punctuation">:</span>
            pyxel<span class="token punctuation">.</span>rect<span class="token punctuation">(</span><span class="token operator">*</span>bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
        pyxel<span class="token punctuation">.</span>text<span class="token punctuation">(</span>SCREEN_WIDTH <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> SCREEN_HEIGHT <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>


App<span class="token punctuation">(</span><span class="token punctuation">)</span></code>`,Gs,hn,St,Fs,g,dn,Vt,as,ts,Lt,Ot,L,Rt,es,At,Wt,os,Nt,jt,Mt,ps,Yt,qt,cs,Gt,Ks,yn,Ft,Us,mn,Kt,$s,z,Ut,ls,$t,Zt,us,Qt,Jt,Zs,bn,Xt,Qs,wn,ne,Js,vn,se,Xs,X,sp=`<code class="language-py"><span class="token keyword">def</span> <span class="token function">mutate_y_value</span><span class="token punctuation">(</span>offset<span class="token punctuation">,</span> min_input<span class="token punctuation">,</span> max_input<span class="token punctuation">,</span> min_output<span class="token punctuation">,</span> max_output<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># determining the size of each range</span>
    offset_range <span class="token operator">=</span> max_offset <span class="token operator">-</span> min_offset
    output_range <span class="token operator">=</span> max_output <span class="token operator">-</span> min_output

    <span class="token comment"># converting the offset_range to a range 0-1</span>

offset_scaled <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>offset <span class="token operator">-</span> min_offset<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">float</span><span class="token punctuation">(</span>offset_range<span class="token punctuation">)</span>

    <span class="token comment"># returning the mapped value</span>
    <span class="token keyword">return</span> min_output <span class="token operator">+</span> <span class="token punctuation">(</span>offset_scaled <span class="token operator">*</span> output_range<span class="token punctuation">)</span></code>`,na,D,ae,is,te,ee,rs,oe,pe,sa,nn,ap=`<code class="language-py"><span class="token keyword">def</span> <span class="token function">mutate_y_value_in_range</span><span class="token punctuation">(</span>
    self<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> min_offset<span class="token punctuation">,</span> max_offset<span class="token punctuation">,</span> min_output<span class="token punctuation">,</span> max_output
<span class="token punctuation">)</span><span class="token punctuation">:</span>
    offset_range <span class="token operator">=</span> max_offset <span class="token operator">-</span> min_offset
    output_range <span class="token operator">=</span> max_output <span class="token operator">-</span> min_output

    offset_scaled <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>offset <span class="token operator">-</span> min_offset<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">float</span><span class="token punctuation">(</span>offset_range<span class="token punctuation">)</span>

    <span class="token keyword">return</span> Vec2<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">+</span> min_output <span class="token operator">+</span> <span class="token punctuation">(</span>offset_scaled <span class="token operator">*</span> output_range<span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,aa,W,ce,ks,le,ue,ta,_n,ie,ea,sn,tp=`<code class="language-py">self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token punctuation">(</span>
    self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>mutate_y_value_in_range<span class="token punctuation">(</span>
        <span class="token punctuation">(</span>self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">-</span> bat<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token operator">-</span>bat<span class="token punctuation">.</span>size<span class="token punctuation">,</span>
        bat<span class="token punctuation">.</span>size<span class="token punctuation">,</span>
        <span class="token operator">-</span><span class="token number">1.5</span><span class="token punctuation">,</span>
        <span class="token number">1.5</span><span class="token punctuation">,</span>
     <span class="token punctuation">)</span><span class="token punctuation">.</span>normalized<span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token operator">*</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>speed
<span class="token punctuation">)</span></code>`,oa,E,re,fs,ke,fe,hs,he,de,ds,ye,me,pa,gn,be,ca,En,we,la,an,ep=`<code class="language-py">self<span class="token punctuation">.</span>score <span class="token operator">+=</span> <span class="token number">1</span>                 <span class="token comment"># this line already exists</span>
<span class="token keyword">if</span> self<span class="token punctuation">.</span>score <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
    self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>speed <span class="token operator">+=</span> <span class="token number">1</span>
    self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token punctuation">(</span>
        self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>normalized<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>speed
    <span class="token punctuation">)</span></code>`,ua,xn,ve,ia,d,_e,ys,ge,Ee,ms,xe,Ie,bs,Te,He,ws,Ce,Pe,vs,ze,De,ra,tn,op=`<code class="language-py"><span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    pyxel<span class="token punctuation">.</span>cls<span class="token punctuation">(</span>colors<span class="token punctuation">[</span><span class="token string">"background"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    pyxel<span class="token punctuation">.</span>circ<span class="token punctuation">(</span>
        self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span>
        self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y<span class="token punctuation">,</span>
        self<span class="token punctuation">.</span>ball<span class="token punctuation">.</span>size<span class="token punctuation">,</span>
        colors<span class="token punctuation">[</span><span class="token string">"foreground"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">for</span> bat <span class="token keyword">in</span> self<span class="token punctuation">.</span>bats<span class="token punctuation">:</span>
        pyxel<span class="token punctuation">.</span>rect<span class="token punctuation">(</span><span class="token operator">*</span>bat<span class="token punctuation">.</span>hitBox<span class="token punctuation">,</span> colors<span class="token punctuation">[</span><span class="token string">"foreground"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    pyxel<span class="token punctuation">.</span>text<span class="token punctuation">(</span>
        SCREEN_WIDTH <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> SCREEN_HEIGHT <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> colors<span class="token punctuation">[</span><span class="token string">"foreground"</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span></code>`;return{c(){k=o("p"),m=o("em"),S=t("This post has been ported from the old blog and slightly edited on the 15"),V=o("sup"),f=t("th"),T=t(" of May 2022."),q=i(),G=o("p"),on=o("a"),ya=t("\u201CPython\u2019s most underrated game engine for beginners\u201D"),ma=t(" is by far the most popular post on this blog and it seems to help a lot of people making their first steps with Python, so I decided to expand on this post by 1) refactoring the code to be both better and more pythonic and 2) solve the challenges I posted at the bottom of the first post utilizing the advantages of the new, refactored code."),_s=i(),pn=o("p"),ba=t("For this tutorial, I will constantly refer back to the original code, so it might be helpful if you have a copy of it somewhere nearby."),gs=i(),v=o("p"),wa=t("The first thing we need to address is our Vec2 classes. We define two of them, one for normal vectors and one for normalized vectors. In most circumstances, this would be considered bad practice, because as you expand the functionality of your "),Dn=o("code"),va=t("Vec2"),_a=t(" class, you also have to copy that functionality over to the "),Bn=o("code"),ga=t("Vec2_norm"),Ea=t(" class, which isn\u2019t very "),F=o("a"),xa=t("DRY"),Ia=t(", to say the least."),Es=i(),cn=o("p"),Ta=t("So let\u2019s merge these two classes into one:"),xs=i(),K=o("pre"),Is=i(),H=o("p"),Ha=t("Cool, so now we can use our "),Sn=o("code"),Ca=t("Vec2"),Pa=t(" class like we are used to and when we want to use a normalized vector we can use its "),Vn=o("code"),za=t("normalized("),Da=t(")` method. Easy peasy."),Ts=i(),b=o("p"),Ba=t("Above I mentioned something about expanding our "),Ln=o("code"),Sa=t("Vec2"),Va=t(" classes functionality. Well, what do I mean by that? After all, we have been getting by just fine with just an "),On=o("code"),La=t("x"),Oa=t(", a "),Rn=o("code"),Ra=t("y"),Aa=t(" and a "),An=o("code"),Wa=t("magnitude"),Na=t(" attribute. Now we can even normalize a vector by calling a single method, what else could we want from our class, right?"),Hs=i(),ln=o("p"),ja=t("Consider this: How would you add two vector objects together? Probably something like this:"),Cs=i(),U=o("pre"),Ps=i(),C=o("p"),Ma=t("That\u2019s an awful lot of code for such a simple operation though, isn\u2019t it? Shouldn\u2019t it be a simple as "),Wn=o("code"),Ya=t("vector_sum = vector_1 + vector2"),qa=t("? This is where Python\u2019s magic methods come into play. You see, we can achieve exactly this behavior, by specifying our vector\u2019s "),Nn=o("code"),Ga=t("**add**"),Fa=t(" method like this:"),zs=i(),$=o("pre"),Ds=i(),un=o("p"),Ka=t("Now, whenever we use the + operator with two vector objects it will perform the addition and return a new vector object with the new values."),Bs=i(),_=o("p"),Ua=t("Here is a little exercise: Try and define magic methods for all the other basic arithmetic operations and when you have done that I show you my solution. The methods you are looking for are called "),jn=o("code"),$a=t("**sub**"),Za=t(", "),Mn=o("code"),Qa=t("**mul**"),Ja=t(" and "),Yn=o("code"),Xa=t("**truediv**"),nt=t("."),Ss=i(),Vs=o("hr"),Ls=i(),rn=o("p"),st=t("Have you done it? Great. Here is what I have:"),Os=i(),Z=o("pre"),Rs=i(),R=o("p"),at=t("Easy right? You are probably noticing two things in my code though: Firstly, I have included checks to make sure the operators are used with the right data type since vectors can only be added to and subtracted from other vectors, yet can only be multiplied and divided by single numbers (called scalars). Secondly, I have refactored the "),qn=o("code"),tt=t("normalized()"),et=t(" method yet again to take advantage of this new functionality right away. Looking mighty fine, let\u2019s move on."),As=i(),h=o("p"),ot=t("Next, let\u2019s look at our "),Gn=o("code"),pt=t("HitBox"),ct=t(" class. The first thing we should notice is that this class actually has no functionality at all. It consists exclusively of attributes and has no methods. Whenever you encounter a class like this, it is a perfect opportunity to refactor, since a class like this can (and should) be refactored into a collection type called "),Fn=o("code"),lt=t("namedtuple"),ut=t(". So after adding the "),Kn=o("code"),it=t("from collections import namedtuple"),rt=t(" statement at the top of our file, let\u2019s refactor our HitBox to look like this: "),Un=o("code"),kt=t('HitBox = namedtuple("HitBox", "x1 y1 x2 y2")'),ft=t(". Single line. Easy as pie. If something about this confuses you, check out "),kn=o("a"),ht=t("the official documentation here"),dt=t("."),Ws=i(),w=o("p"),yt=t("The best part is that we can actually use this like our original "),$n=o("code"),mt=t("HitBox"),bt=t(" class, so we can leave the parts of our code that used the class as they are, but not only that, since this is now a sequence type, we have now implicitly made any "),Zn=o("code"),wt=t("HitBox"),vt=t(" iterable. "),Qn=o("em"),_t=t("\u201CYeah that\u2019s nice\u201D"),gt=t(", you might say, "),Jn=o("em"),Et=t("\u201Cbut when do I realistically need to iterate through the coordinates of a hitbox? That\u2019s not very useful.\u201D"),Ns=i(),P=o("p"),xt=t("Well, let\u2019s take a look at the "),Xn=o("code"),It=t("draw"),Tt=t(" method of our original "),ns=o("code"),Ht=t("App"),Ct=t(" class. Until now it looks like this:"),js=i(),Q=o("pre"),Ms=i(),A=o("p"),Pt=t("Notice how we need to reference every single coordinate when drawing a rectangle for our bats? You see, being iterable does not only mean that we can iterate through it, it also means that we can make use of Python\u2019s very powerful packing/unpacking features. Here we can refactor the relevant line to "),ss=o("code"),zt=t("pyxel.rect(\\*bat.hitBox, 7)"),Dt=t(", which is way prettier and to the point."),Ys=i(),fn=o("p"),Bt=t("For the rest of the script, the refactoring is rather unexciting, but what we definitely should do, is to move the BALL_SPEED, BALL_SIZE and BRICK_SIZE constants to where they belong: Their respective classes. You can do that yourself or copy it from below, where you find the complete script as we have it right now, just so we are on the same page:"),qs=i(),J=o("pre"),Gs=i(),hn=o("p"),St=t("Now that we have a much better version of the original code, let\u2019s try and implement the improvements I was suggesting at the end of the first post, these were:"),Fs=i(),g=o("ul"),dn=o("li"),Vt=t("To make the game less predictable, let\u2019s change the ball\u2019s angle by which he bounces back from the bat by a small random value. Hint: you will probably want to `from random import uniform for this one."),as=o("ul"),ts=o("li"),Lt=t("More advanced: Make the angle change based on the position of the ball relative to the position of the bat at the time of contact."),Ot=i(),L=o("li"),Rt=t("Make the game harder as it goes along, maybe increase the ball speed a little every 5 points (it isn\u2019t technically necessary, but it would be good practice to rename the "),es=o("code"),At=t("BALL_SPEED"),Wt=t(" variable to "),os=o("code"),Nt=t("ball_speed"),jt=t(", since all-cap variable names generally indicate constants)."),Mt=i(),ps=o("li"),Yt=t("Use different color schemes. Maybe even change colors dynamically throughout the game (to indicate an increase in ball speed for example)."),qt=i(),cs=o("li"),Gt=t("There is a bug, that when the ball enters the bat from the bottom or top rather than the side, it will get kind of stuck there, maybe you can figure out what the problem is and fix it?"),Ks=i(),yn=o("h2"),Ft=t("Change the balls angle based on the position of the ball relative to the position of the bat at the time of contact"),Us=i(),mn=o("p"),Kt=t("Let\u2019s just go for the more advanced version right away. First, let\u2019s clarify what we mean by \u201Cangle\u201D and what we mean by \u201Crelative to\u201D in terms of our code. When we say \u201Cangle, we mean that not only the x-attribute of our balls velocity vector changes but also the y-attribute. When we say \u201Crelative to\u201D we mean to compare the ball\u2019s y-position with the bat\u2019s y-position."),$s=i(),z=o("p"),Ut=t("Let\u2019s start looking at our code. We check for the collision between ball and bat starting on line 113 inside our "),ls=o("code"),$t=t("App"),Zt=t("\u2019s "),us=o("code"),Qt=t("update"),Jt=t(" method. Instead of just reversing the direction of the ball on the x-axis like we are doing right now, let\u2019s also play with the y-value of the velocity vector."),Zs=i(),bn=o("p"),Xt=t("The problem here is that this can become messy since we have lots of cases we want to avoid. We don\u2019t want to make it so big for example, that the ball is just moving in a straight vertical line, we also don\u2019t want it to lock in to just go perfectly horizontal near the edge of the screen forever (which could potentially happen). Put aptly, we want to keep control over the range of acceptable y-values. In other words: We want to keep the ball from getting crazy."),Qs=i(),wn=o("p"),ne=t("Here is how I would go about this. Knowing that this can get messy, I will not attempt to edit the code right then and there, but rather define its own function for this behavior."),Js=i(),vn=o("p"),se=t("The idea is this: We take in a value I\u2019m calling offset, which is what determines how much the value should be changed. Then I\u2019m also defining a range of inputs (minimum and maximum value of the offset) and a range of outputs (this is how I keep control over what I want to allow). Then I am mapping my range of inputs to the range of outputs and translate my offset to fit the mapping. Phu, that was a lot, let\u2019s see it in action:"),Xs=i(),X=o("pre"),na=i(),D=o("p"),ae=t("This would work, but writing a function like this could be considered bad practice. Functionality like this should be encapsulated by the entity it belongs to. I would argue this functionality belongs to our "),is=o("code"),te=t("Vec2"),ee=t(" class. Rewritten as a method of the "),rs=o("code"),oe=t("Vec2"),pe=t(" class, it now looks like this:"),sa=i(),nn=o("pre"),aa=i(),W=o("p"),ce=t("Notice how I have added the "),ks=o("code"),le=t("self"),ue=t(" argument and how I am utilizing it to return a new vector object, to make its application easier."),ta=i(),_n=o("p"),ie=t("So how do we apply this function? In our App\u2019s update method, between reversing the ball\u2019s velocity\u2019s x-value, and incrementing the score, we call our new method:"),ea=i(),sn=o("pre"),oa=i(),E=o("p"),re=t("Here we assign a new vector to "),fs=o("code"),ke=t("self.ball.velocity"),fe=t(". Keep in mind the x-value has already been reversed. The first argument here is the difference between the ball\u2019s y-position and the bat\u2019s y-position. The "),hs=o("code"),he=t("min_offset"),de=t(" and "),ds=o("code"),ye=t("max_offset"),me=t(" arguments cannot possibly be bigger than the size of the bats (because in that case, they would not touch the bat). The output I determined by just playing around a little. The bigger the range the sharper the angle. Whatever feels right. I went for 1.5. Time to give it a test run, maybe take a break, and move on."),pa=i(),gn=o("h2"),be=t("Increase the ball speed a little every 5 points"),ca=i(),En=o("p"),we=t("If you powered through until this point you are beyond the level where I need to explain this one, so I\u2019m just pasting the code here."),la=i(),an=o("pre"),ua=i(),xn=o("h2"),ve=t("Use different color schemes. Maybe even change colors dynamically throughout the game"),ia=i(),d=o("p"),_e=t("Let\u2019s use the same "),ys=o("code"),ge=t("if"),Ee=t(" statement for this one, but before we do that we have to substitute all the colors we are using right now with variables we can change dynamically. Right now, we are using two different colors, a foreground color for the ball the bats and the text and a background color to fill out the window. So let\u2019s define it this way: At the top of the file, create a dictionary to hold that information with something like "),ms=o("code"),xe=t("colors = dict(foreground=7, background=0)"),Ie=t(". Luckily, we only use colors in our "),bs=o("code"),Te=t("App"),He=t("\u2019s "),ws=o("code"),Ce=t("draw"),Pe=t(" method, so we don\u2019t have to search the whole file to replace colors. After replacing these values the "),vs=o("code"),ze=t("draw"),De=t(" method should look like this:"),ra=i(),tn=o("pre"),this.h()},l(n){k=p(n,"P",{});var l=c(k);m=p(l,"EM",{});var ka=c(m);S=e(ka,"This post has been ported from the old blog and slightly edited on the 15"),V=p(ka,"SUP",{});var Le=c(V);f=e(Le,"th"),Le.forEach(s),T=e(ka," of May 2022."),ka.forEach(s),l.forEach(s),q=r(n),G=p(n,"P",{});var Be=c(G);on=p(Be,"A",{href:!0});var Oe=c(on);ya=e(Oe,"\u201CPython\u2019s most underrated game engine for beginners\u201D"),Oe.forEach(s),ma=e(Be," is by far the most popular post on this blog and it seems to help a lot of people making their first steps with Python, so I decided to expand on this post by 1) refactoring the code to be both better and more pythonic and 2) solve the challenges I posted at the bottom of the first post utilizing the advantages of the new, refactored code."),Be.forEach(s),_s=r(n),pn=p(n,"P",{});var Re=c(pn);ba=e(Re,"For this tutorial, I will constantly refer back to the original code, so it might be helpful if you have a copy of it somewhere nearby."),Re.forEach(s),gs=r(n),v=p(n,"P",{});var N=c(v);wa=e(N,"The first thing we need to address is our Vec2 classes. We define two of them, one for normal vectors and one for normalized vectors. In most circumstances, this would be considered bad practice, because as you expand the functionality of your "),Dn=p(N,"CODE",{});var Ae=c(Dn);va=e(Ae,"Vec2"),Ae.forEach(s),_a=e(N," class, you also have to copy that functionality over to the "),Bn=p(N,"CODE",{});var We=c(Bn);ga=e(We,"Vec2_norm"),We.forEach(s),Ea=e(N," class, which isn\u2019t very "),F=p(N,"A",{target:!0,href:!0});var Ne=c(F);xa=e(Ne,"DRY"),Ne.forEach(s),Ia=e(N,", to say the least."),N.forEach(s),Es=r(n),cn=p(n,"P",{});var je=c(cn);Ta=e(je,"So let\u2019s merge these two classes into one:"),je.forEach(s),xs=r(n),K=p(n,"PRE",{class:!0});var pp=c(K);pp.forEach(s),Is=r(n),H=p(n,"P",{});var In=c(H);Ha=e(In,"Cool, so now we can use our "),Sn=p(In,"CODE",{});var Me=c(Sn);Ca=e(Me,"Vec2"),Me.forEach(s),Pa=e(In," class like we are used to and when we want to use a normalized vector we can use its "),Vn=p(In,"CODE",{});var Ye=c(Vn);za=e(Ye,"normalized("),Ye.forEach(s),Da=e(In,")` method. Easy peasy."),In.forEach(s),Ts=r(n),b=p(n,"P",{});var B=c(b);Ba=e(B,"Above I mentioned something about expanding our "),Ln=p(B,"CODE",{});var qe=c(Ln);Sa=e(qe,"Vec2"),qe.forEach(s),Va=e(B," classes functionality. Well, what do I mean by that? After all, we have been getting by just fine with just an "),On=p(B,"CODE",{});var Ge=c(On);La=e(Ge,"x"),Ge.forEach(s),Oa=e(B,", a "),Rn=p(B,"CODE",{});var Fe=c(Rn);Ra=e(Fe,"y"),Fe.forEach(s),Aa=e(B," and a "),An=p(B,"CODE",{});var Ke=c(An);Wa=e(Ke,"magnitude"),Ke.forEach(s),Na=e(B," attribute. Now we can even normalize a vector by calling a single method, what else could we want from our class, right?"),B.forEach(s),Hs=r(n),ln=p(n,"P",{});var Ue=c(ln);ja=e(Ue,"Consider this: How would you add two vector objects together? Probably something like this:"),Ue.forEach(s),Cs=r(n),U=p(n,"PRE",{class:!0});var cp=c(U);cp.forEach(s),Ps=r(n),C=p(n,"P",{});var Tn=c(C);Ma=e(Tn,"That\u2019s an awful lot of code for such a simple operation though, isn\u2019t it? Shouldn\u2019t it be a simple as "),Wn=p(Tn,"CODE",{});var $e=c(Wn);Ya=e($e,"vector_sum = vector_1 + vector2"),$e.forEach(s),qa=e(Tn,"? This is where Python\u2019s magic methods come into play. You see, we can achieve exactly this behavior, by specifying our vector\u2019s "),Nn=p(Tn,"CODE",{});var Ze=c(Nn);Ga=e(Ze,"**add**"),Ze.forEach(s),Fa=e(Tn," method like this:"),Tn.forEach(s),zs=r(n),$=p(n,"PRE",{class:!0});var lp=c($);lp.forEach(s),Ds=r(n),un=p(n,"P",{});var Qe=c(un);Ka=e(Qe,"Now, whenever we use the + operator with two vector objects it will perform the addition and return a new vector object with the new values."),Qe.forEach(s),Bs=r(n),_=p(n,"P",{});var j=c(_);Ua=e(j,"Here is a little exercise: Try and define magic methods for all the other basic arithmetic operations and when you have done that I show you my solution. The methods you are looking for are called "),jn=p(j,"CODE",{});var Je=c(jn);$a=e(Je,"**sub**"),Je.forEach(s),Za=e(j,", "),Mn=p(j,"CODE",{});var Xe=c(Mn);Qa=e(Xe,"**mul**"),Xe.forEach(s),Ja=e(j," and "),Yn=p(j,"CODE",{});var no=c(Yn);Xa=e(no,"**truediv**"),no.forEach(s),nt=e(j,"."),j.forEach(s),Ss=r(n),Vs=p(n,"HR",{}),Ls=r(n),rn=p(n,"P",{});var so=c(rn);st=e(so,"Have you done it? Great. Here is what I have:"),so.forEach(s),Os=r(n),Z=p(n,"PRE",{class:!0});var up=c(Z);up.forEach(s),Rs=r(n),R=p(n,"P",{});var fa=c(R);at=e(fa,"Easy right? You are probably noticing two things in my code though: Firstly, I have included checks to make sure the operators are used with the right data type since vectors can only be added to and subtracted from other vectors, yet can only be multiplied and divided by single numbers (called scalars). Secondly, I have refactored the "),qn=p(fa,"CODE",{});var ao=c(qn);tt=e(ao,"normalized()"),ao.forEach(s),et=e(fa," method yet again to take advantage of this new functionality right away. Looking mighty fine, let\u2019s move on."),fa.forEach(s),As=r(n),h=p(n,"P",{});var x=c(h);ot=e(x,"Next, let\u2019s look at our "),Gn=p(x,"CODE",{});var to=c(Gn);pt=e(to,"HitBox"),to.forEach(s),ct=e(x," class. The first thing we should notice is that this class actually has no functionality at all. It consists exclusively of attributes and has no methods. Whenever you encounter a class like this, it is a perfect opportunity to refactor, since a class like this can (and should) be refactored into a collection type called "),Fn=p(x,"CODE",{});var eo=c(Fn);lt=e(eo,"namedtuple"),eo.forEach(s),ut=e(x,". So after adding the "),Kn=p(x,"CODE",{});var oo=c(Kn);it=e(oo,"from collections import namedtuple"),oo.forEach(s),rt=e(x," statement at the top of our file, let\u2019s refactor our HitBox to look like this: "),Un=p(x,"CODE",{});var po=c(Un);kt=e(po,'HitBox = namedtuple("HitBox", "x1 y1 x2 y2")'),po.forEach(s),ft=e(x,". Single line. Easy as pie. If something about this confuses you, check out "),kn=p(x,"A",{href:!0});var co=c(kn);ht=e(co,"the official documentation here"),co.forEach(s),dt=e(x,"."),x.forEach(s),Ws=r(n),w=p(n,"P",{});var O=c(w);yt=e(O,"The best part is that we can actually use this like our original "),$n=p(O,"CODE",{});var lo=c($n);mt=e(lo,"HitBox"),lo.forEach(s),bt=e(O," class, so we can leave the parts of our code that used the class as they are, but not only that, since this is now a sequence type, we have now implicitly made any "),Zn=p(O,"CODE",{});var uo=c(Zn);wt=e(uo,"HitBox"),uo.forEach(s),vt=e(O," iterable. "),Qn=p(O,"EM",{});var io=c(Qn);_t=e(io,"\u201CYeah that\u2019s nice\u201D"),io.forEach(s),gt=e(O,", you might say, "),Jn=p(O,"EM",{});var ro=c(Jn);Et=e(ro,"\u201Cbut when do I realistically need to iterate through the coordinates of a hitbox? That\u2019s not very useful.\u201D"),ro.forEach(s),O.forEach(s),Ns=r(n),P=p(n,"P",{});var Hn=c(P);xt=e(Hn,"Well, let\u2019s take a look at the "),Xn=p(Hn,"CODE",{});var ko=c(Xn);It=e(ko,"draw"),ko.forEach(s),Tt=e(Hn," method of our original "),ns=p(Hn,"CODE",{});var fo=c(ns);Ht=e(fo,"App"),fo.forEach(s),Ct=e(Hn," class. Until now it looks like this:"),Hn.forEach(s),js=r(n),Q=p(n,"PRE",{class:!0});var ip=c(Q);ip.forEach(s),Ms=r(n),A=p(n,"P",{});var ha=c(A);Pt=e(ha,"Notice how we need to reference every single coordinate when drawing a rectangle for our bats? You see, being iterable does not only mean that we can iterate through it, it also means that we can make use of Python\u2019s very powerful packing/unpacking features. Here we can refactor the relevant line to "),ss=p(ha,"CODE",{});var ho=c(ss);zt=e(ho,"pyxel.rect(\\*bat.hitBox, 7)"),ho.forEach(s),Dt=e(ha,", which is way prettier and to the point."),ha.forEach(s),Ys=r(n),fn=p(n,"P",{});var yo=c(fn);Bt=e(yo,"For the rest of the script, the refactoring is rather unexciting, but what we definitely should do, is to move the BALL_SPEED, BALL_SIZE and BRICK_SIZE constants to where they belong: Their respective classes. You can do that yourself or copy it from below, where you find the complete script as we have it right now, just so we are on the same page:"),yo.forEach(s),qs=r(n),J=p(n,"PRE",{class:!0});var rp=c(J);rp.forEach(s),Gs=r(n),hn=p(n,"P",{});var mo=c(hn);St=e(mo,"Now that we have a much better version of the original code, let\u2019s try and implement the improvements I was suggesting at the end of the first post, these were:"),mo.forEach(s),Fs=r(n),g=p(n,"UL",{});var M=c(g);dn=p(M,"LI",{});var Se=c(dn);Vt=e(Se,"To make the game less predictable, let\u2019s change the ball\u2019s angle by which he bounces back from the bat by a small random value. Hint: you will probably want to `from random import uniform for this one."),as=p(Se,"UL",{});var bo=c(as);ts=p(bo,"LI",{});var wo=c(ts);Lt=e(wo,"More advanced: Make the angle change based on the position of the ball relative to the position of the bat at the time of contact."),wo.forEach(s),bo.forEach(s),Se.forEach(s),Ot=r(M),L=p(M,"LI",{});var Cn=c(L);Rt=e(Cn,"Make the game harder as it goes along, maybe increase the ball speed a little every 5 points (it isn\u2019t technically necessary, but it would be good practice to rename the "),es=p(Cn,"CODE",{});var vo=c(es);At=e(vo,"BALL_SPEED"),vo.forEach(s),Wt=e(Cn," variable to "),os=p(Cn,"CODE",{});var _o=c(os);Nt=e(_o,"ball_speed"),_o.forEach(s),jt=e(Cn,", since all-cap variable names generally indicate constants)."),Cn.forEach(s),Mt=r(M),ps=p(M,"LI",{});var go=c(ps);Yt=e(go,"Use different color schemes. Maybe even change colors dynamically throughout the game (to indicate an increase in ball speed for example)."),go.forEach(s),qt=r(M),cs=p(M,"LI",{});var Eo=c(cs);Gt=e(Eo,"There is a bug, that when the ball enters the bat from the bottom or top rather than the side, it will get kind of stuck there, maybe you can figure out what the problem is and fix it?"),Eo.forEach(s),M.forEach(s),Ks=r(n),yn=p(n,"H2",{});var xo=c(yn);Ft=e(xo,"Change the balls angle based on the position of the ball relative to the position of the bat at the time of contact"),xo.forEach(s),Us=r(n),mn=p(n,"P",{});var Io=c(mn);Kt=e(Io,"Let\u2019s just go for the more advanced version right away. First, let\u2019s clarify what we mean by \u201Cangle\u201D and what we mean by \u201Crelative to\u201D in terms of our code. When we say \u201Cangle, we mean that not only the x-attribute of our balls velocity vector changes but also the y-attribute. When we say \u201Crelative to\u201D we mean to compare the ball\u2019s y-position with the bat\u2019s y-position."),Io.forEach(s),$s=r(n),z=p(n,"P",{});var Pn=c(z);Ut=e(Pn,"Let\u2019s start looking at our code. We check for the collision between ball and bat starting on line 113 inside our "),ls=p(Pn,"CODE",{});var To=c(ls);$t=e(To,"App"),To.forEach(s),Zt=e(Pn,"\u2019s "),us=p(Pn,"CODE",{});var Ho=c(us);Qt=e(Ho,"update"),Ho.forEach(s),Jt=e(Pn," method. Instead of just reversing the direction of the ball on the x-axis like we are doing right now, let\u2019s also play with the y-value of the velocity vector."),Pn.forEach(s),Zs=r(n),bn=p(n,"P",{});var Co=c(bn);Xt=e(Co,"The problem here is that this can become messy since we have lots of cases we want to avoid. We don\u2019t want to make it so big for example, that the ball is just moving in a straight vertical line, we also don\u2019t want it to lock in to just go perfectly horizontal near the edge of the screen forever (which could potentially happen). Put aptly, we want to keep control over the range of acceptable y-values. In other words: We want to keep the ball from getting crazy."),Co.forEach(s),Qs=r(n),wn=p(n,"P",{});var Po=c(wn);ne=e(Po,"Here is how I would go about this. Knowing that this can get messy, I will not attempt to edit the code right then and there, but rather define its own function for this behavior."),Po.forEach(s),Js=r(n),vn=p(n,"P",{});var zo=c(vn);se=e(zo,"The idea is this: We take in a value I\u2019m calling offset, which is what determines how much the value should be changed. Then I\u2019m also defining a range of inputs (minimum and maximum value of the offset) and a range of outputs (this is how I keep control over what I want to allow). Then I am mapping my range of inputs to the range of outputs and translate my offset to fit the mapping. Phu, that was a lot, let\u2019s see it in action:"),zo.forEach(s),Xs=r(n),X=p(n,"PRE",{class:!0});var kp=c(X);kp.forEach(s),na=r(n),D=p(n,"P",{});var zn=c(D);ae=e(zn,"This would work, but writing a function like this could be considered bad practice. Functionality like this should be encapsulated by the entity it belongs to. I would argue this functionality belongs to our "),is=p(zn,"CODE",{});var Do=c(is);te=e(Do,"Vec2"),Do.forEach(s),ee=e(zn," class. Rewritten as a method of the "),rs=p(zn,"CODE",{});var Bo=c(rs);oe=e(Bo,"Vec2"),Bo.forEach(s),pe=e(zn," class, it now looks like this:"),zn.forEach(s),sa=r(n),nn=p(n,"PRE",{class:!0});var fp=c(nn);fp.forEach(s),aa=r(n),W=p(n,"P",{});var da=c(W);ce=e(da,"Notice how I have added the "),ks=p(da,"CODE",{});var So=c(ks);le=e(So,"self"),So.forEach(s),ue=e(da," argument and how I am utilizing it to return a new vector object, to make its application easier."),da.forEach(s),ta=r(n),_n=p(n,"P",{});var Vo=c(_n);ie=e(Vo,"So how do we apply this function? In our App\u2019s update method, between reversing the ball\u2019s velocity\u2019s x-value, and incrementing the score, we call our new method:"),Vo.forEach(s),ea=r(n),sn=p(n,"PRE",{class:!0});var hp=c(sn);hp.forEach(s),oa=r(n),E=p(n,"P",{});var Y=c(E);re=e(Y,"Here we assign a new vector to "),fs=p(Y,"CODE",{});var Lo=c(fs);ke=e(Lo,"self.ball.velocity"),Lo.forEach(s),fe=e(Y,". Keep in mind the x-value has already been reversed. The first argument here is the difference between the ball\u2019s y-position and the bat\u2019s y-position. The "),hs=p(Y,"CODE",{});var Oo=c(hs);he=e(Oo,"min_offset"),Oo.forEach(s),de=e(Y," and "),ds=p(Y,"CODE",{});var Ro=c(ds);ye=e(Ro,"max_offset"),Ro.forEach(s),me=e(Y," arguments cannot possibly be bigger than the size of the bats (because in that case, they would not touch the bat). The output I determined by just playing around a little. The bigger the range the sharper the angle. Whatever feels right. I went for 1.5. Time to give it a test run, maybe take a break, and move on."),Y.forEach(s),pa=r(n),gn=p(n,"H2",{});var Ao=c(gn);be=e(Ao,"Increase the ball speed a little every 5 points"),Ao.forEach(s),ca=r(n),En=p(n,"P",{});var Wo=c(En);we=e(Wo,"If you powered through until this point you are beyond the level where I need to explain this one, so I\u2019m just pasting the code here."),Wo.forEach(s),la=r(n),an=p(n,"PRE",{class:!0});var dp=c(an);dp.forEach(s),ua=r(n),xn=p(n,"H2",{});var No=c(xn);ve=e(No,"Use different color schemes. Maybe even change colors dynamically throughout the game"),No.forEach(s),ia=r(n),d=p(n,"P",{});var I=c(d);_e=e(I,"Let\u2019s use the same "),ys=p(I,"CODE",{});var jo=c(ys);ge=e(jo,"if"),jo.forEach(s),Ee=e(I," statement for this one, but before we do that we have to substitute all the colors we are using right now with variables we can change dynamically. Right now, we are using two different colors, a foreground color for the ball the bats and the text and a background color to fill out the window. So let\u2019s define it this way: At the top of the file, create a dictionary to hold that information with something like "),ms=p(I,"CODE",{});var Mo=c(ms);xe=e(Mo,"colors = dict(foreground=7, background=0)"),Mo.forEach(s),Ie=e(I,". Luckily, we only use colors in our "),bs=p(I,"CODE",{});var Yo=c(bs);Te=e(Yo,"App"),Yo.forEach(s),He=e(I,"\u2019s "),ws=p(I,"CODE",{});var qo=c(ws);Ce=e(qo,"draw"),qo.forEach(s),Pe=e(I," method, so we don\u2019t have to search the whole file to replace colors. After replacing these values the "),vs=p(I,"CODE",{});var Go=c(vs);ze=e(Go,"draw"),Go.forEach(s),De=e(I," method should look like this:"),I.forEach(s),ra=r(n),tn=p(n,"PRE",{class:!0});var yp=c(tn);yp.forEach(s),this.h()},h(){y(on,"href","/blog/pythons-most-underrated-game-engine"),y(F,"target","_blank"),y(F,"href","https://en.wikipedia.org/wiki/Don't_repeat_yourself"),y(K,"class","language-py"),y(U,"class","language-py"),y($,"class","language-py"),y(Z,"class","language-py"),y(kn,"href","https://docs.python.org/2/library/collections.html#collections.namedtuple"),y(Q,"class","language-py"),y(J,"class","language-py"),y(X,"class","language-py"),y(nn,"class","language-py"),y(sn,"class","language-py"),y(an,"class","language-py"),y(tn,"class","language-py")},m(n,l){u(n,k,l),a(k,m),a(m,S),a(m,V),a(V,f),a(m,T),u(n,q,l),u(n,G,l),a(G,on),a(on,ya),a(G,ma),u(n,_s,l),u(n,pn,l),a(pn,ba),u(n,gs,l),u(n,v,l),a(v,wa),a(v,Dn),a(Dn,va),a(v,_a),a(v,Bn),a(Bn,ga),a(v,Ea),a(v,F),a(F,xa),a(v,Ia),u(n,Es,l),u(n,cn,l),a(cn,Ta),u(n,xs,l),u(n,K,l),K.innerHTML=$o,u(n,Is,l),u(n,H,l),a(H,Ha),a(H,Sn),a(Sn,Ca),a(H,Pa),a(H,Vn),a(Vn,za),a(H,Da),u(n,Ts,l),u(n,b,l),a(b,Ba),a(b,Ln),a(Ln,Sa),a(b,Va),a(b,On),a(On,La),a(b,Oa),a(b,Rn),a(Rn,Ra),a(b,Aa),a(b,An),a(An,Wa),a(b,Na),u(n,Hs,l),u(n,ln,l),a(ln,ja),u(n,Cs,l),u(n,U,l),U.innerHTML=Zo,u(n,Ps,l),u(n,C,l),a(C,Ma),a(C,Wn),a(Wn,Ya),a(C,qa),a(C,Nn),a(Nn,Ga),a(C,Fa),u(n,zs,l),u(n,$,l),$.innerHTML=Qo,u(n,Ds,l),u(n,un,l),a(un,Ka),u(n,Bs,l),u(n,_,l),a(_,Ua),a(_,jn),a(jn,$a),a(_,Za),a(_,Mn),a(Mn,Qa),a(_,Ja),a(_,Yn),a(Yn,Xa),a(_,nt),u(n,Ss,l),u(n,Vs,l),u(n,Ls,l),u(n,rn,l),a(rn,st),u(n,Os,l),u(n,Z,l),Z.innerHTML=Jo,u(n,Rs,l),u(n,R,l),a(R,at),a(R,qn),a(qn,tt),a(R,et),u(n,As,l),u(n,h,l),a(h,ot),a(h,Gn),a(Gn,pt),a(h,ct),a(h,Fn),a(Fn,lt),a(h,ut),a(h,Kn),a(Kn,it),a(h,rt),a(h,Un),a(Un,kt),a(h,ft),a(h,kn),a(kn,ht),a(h,dt),u(n,Ws,l),u(n,w,l),a(w,yt),a(w,$n),a($n,mt),a(w,bt),a(w,Zn),a(Zn,wt),a(w,vt),a(w,Qn),a(Qn,_t),a(w,gt),a(w,Jn),a(Jn,Et),u(n,Ns,l),u(n,P,l),a(P,xt),a(P,Xn),a(Xn,It),a(P,Tt),a(P,ns),a(ns,Ht),a(P,Ct),u(n,js,l),u(n,Q,l),Q.innerHTML=Xo,u(n,Ms,l),u(n,A,l),a(A,Pt),a(A,ss),a(ss,zt),a(A,Dt),u(n,Ys,l),u(n,fn,l),a(fn,Bt),u(n,qs,l),u(n,J,l),J.innerHTML=np,u(n,Gs,l),u(n,hn,l),a(hn,St),u(n,Fs,l),u(n,g,l),a(g,dn),a(dn,Vt),a(dn,as),a(as,ts),a(ts,Lt),a(g,Ot),a(g,L),a(L,Rt),a(L,es),a(es,At),a(L,Wt),a(L,os),a(os,Nt),a(L,jt),a(g,Mt),a(g,ps),a(ps,Yt),a(g,qt),a(g,cs),a(cs,Gt),u(n,Ks,l),u(n,yn,l),a(yn,Ft),u(n,Us,l),u(n,mn,l),a(mn,Kt),u(n,$s,l),u(n,z,l),a(z,Ut),a(z,ls),a(ls,$t),a(z,Zt),a(z,us),a(us,Qt),a(z,Jt),u(n,Zs,l),u(n,bn,l),a(bn,Xt),u(n,Qs,l),u(n,wn,l),a(wn,ne),u(n,Js,l),u(n,vn,l),a(vn,se),u(n,Xs,l),u(n,X,l),X.innerHTML=sp,u(n,na,l),u(n,D,l),a(D,ae),a(D,is),a(is,te),a(D,ee),a(D,rs),a(rs,oe),a(D,pe),u(n,sa,l),u(n,nn,l),nn.innerHTML=ap,u(n,aa,l),u(n,W,l),a(W,ce),a(W,ks),a(ks,le),a(W,ue),u(n,ta,l),u(n,_n,l),a(_n,ie),u(n,ea,l),u(n,sn,l),sn.innerHTML=tp,u(n,oa,l),u(n,E,l),a(E,re),a(E,fs),a(fs,ke),a(E,fe),a(E,hs),a(hs,he),a(E,de),a(E,ds),a(ds,ye),a(E,me),u(n,pa,l),u(n,gn,l),a(gn,be),u(n,ca,l),u(n,En,l),a(En,we),u(n,la,l),u(n,an,l),an.innerHTML=ep,u(n,ua,l),u(n,xn,l),a(xn,ve),u(n,ia,l),u(n,d,l),a(d,_e),a(d,ys),a(ys,ge),a(d,Ee),a(d,ms),a(ms,xe),a(d,Ie),a(d,bs),a(bs,Te),a(d,He),a(d,ws),a(ws,Ce),a(d,Pe),a(d,vs),a(vs,ze),a(d,De),u(n,ra,l),u(n,tn,l),tn.innerHTML=op},p:Hp,d(n){n&&s(k),n&&s(q),n&&s(G),n&&s(_s),n&&s(pn),n&&s(gs),n&&s(v),n&&s(Es),n&&s(cn),n&&s(xs),n&&s(K),n&&s(Is),n&&s(H),n&&s(Ts),n&&s(b),n&&s(Hs),n&&s(ln),n&&s(Cs),n&&s(U),n&&s(Ps),n&&s(C),n&&s(zs),n&&s($),n&&s(Ds),n&&s(un),n&&s(Bs),n&&s(_),n&&s(Ss),n&&s(Vs),n&&s(Ls),n&&s(rn),n&&s(Os),n&&s(Z),n&&s(Rs),n&&s(R),n&&s(As),n&&s(h),n&&s(Ws),n&&s(w),n&&s(Ns),n&&s(P),n&&s(js),n&&s(Q),n&&s(Ms),n&&s(A),n&&s(Ys),n&&s(fn),n&&s(qs),n&&s(J),n&&s(Gs),n&&s(hn),n&&s(Fs),n&&s(g),n&&s(Ks),n&&s(yn),n&&s(Us),n&&s(mn),n&&s($s),n&&s(z),n&&s(Zs),n&&s(bn),n&&s(Qs),n&&s(wn),n&&s(Js),n&&s(vn),n&&s(Xs),n&&s(X),n&&s(na),n&&s(D),n&&s(sa),n&&s(nn),n&&s(aa),n&&s(W),n&&s(ta),n&&s(_n),n&&s(ea),n&&s(sn),n&&s(oa),n&&s(E),n&&s(pa),n&&s(gn),n&&s(ca),n&&s(En),n&&s(la),n&&s(an),n&&s(ua),n&&s(xn),n&&s(ia),n&&s(d),n&&s(ra),n&&s(tn)}}}function zp(en){let k,m;const S=[en[0],Uo];let V={$$slots:{default:[Pp]},$$scope:{ctx:en}};for(let f=0;f<S.length;f+=1)V=Ve(V,S[f]);return k=new Cp({props:V}),{c(){vp(k.$$.fragment)},l(f){_p(k.$$.fragment,f)},m(f,T){gp(k,f,T),m=!0},p(f,[T]){const q=T&1?Ep(S,[T&1&&Fo(f[0]),T&0&&Fo(Uo)]):{};T&2&&(q.$$scope={dirty:T,ctx:f}),k.$set(q)},i(f){m||(xp(k.$$.fragment,f),m=!0)},o(f){Ip(k.$$.fragment,f),m=!1},d(f){Tp(k,f)}}}const Uo={title:"After Pong Ends",alternateSubtitle:`Part 2 of "Python's most underrated game engine for beginners`,author:"Konstantin <mail@vomkonstant.in>",published:"2019-01-19",illustration:'<svg viewBox="0 0 250 250" fill="none" xmlns="http://www.w3.org/2000/svg"> <g stroke="currentColor"> <path d="M25 195.048c0-.903 1.306-1.3 1.695-2.115.089-.189 1.369-2.83 1.61-2.75 1.094.365 2.962 4.112 3.611 5.111.075.114 1.354 2.037 1.445 1.916 2.428-3.238 1.174-9.757 4.138-12.72.443-.443.635 1.08.971 1.61.174.273 3.394 2.287 3.5 2.14.71-.993 1.891-7.563 4.166-6.806 1.83.61 3.845 5.96 4.25 7.5.068.257 1.16 3.788 1.556 3.472 3.122-2.498 2.886-6.793 3.61-10.416 1.227-6.133 2.111-15.104 5.083-20.553.402-.737 4.14-3.45 4.75-3.084 1.675 1.006 3.609 5.502 5.693 1.334 1.45-2.899 4.684-9.488 4.833-12.471.05-1.007.533-4.693 2.028-4.444 3.622.604 4.92 6.355 6.165 9.11 4.055 8.979 6.373 18.608 10.61 27.386 1.331 2.757 2.05 5.952 3.111 8.833.167.45 1.11 3.009 1.89 2.749 2.237-.746 3.327-9.56 4.47-11.72 6.7-12.654 11.67-26.623 16.22-40.274.284-.852.573-3.457.7-4.337.585-4.027.8-8.594 2.052-12.483.19-.594 1.195-4.368 1.94-4.301 2.59.236 1.963 5.492 3.551 6.55.152.102.77-3.646.86-4.124.462-2.42 1.331-1.368 2.316-1.368.931 0 1 3.625 1.5 4.125.7.7 2.321-.645 2.624-.088.227.415 1.594 5.43 1.875 5.36.574-.144.878-1.826 1.743-1.566.358.108 1.363 2.687 1.742 2.404.545-.41.491-2.801.728-3.485 1.22-3.54 2.552-6.904 4.036-10.366.25-.585 1.7 4.065 2.073 1.456.055-.386.126-.765.198-1.147.63-3.3.657-7.047 2.052-10.145.22-.489.567-2.543 1.08-2.713 1.18-.393 2.666 6.184 3.066 7.234.057.151.954 2.224 1.059 2.16 1.126-.675.726-2.44.683-3.484-.116-2.857-.285-5.675.177-8.513.036-.22.484-3.59.882-3.44.751.28 1.071 2.205 1.257 2.823.82 2.73 1.502 5.5 2.404 8.204 2.736 8.208 3.553 17.308 6.682 25.276.737 1.872 1.373 3.79 2.207 5.623.06.133.734 1.552.881 1.478.505-.252-.128-1.976.331-2.206.042-.02.504 1.035.573 1.125.528.679 1.061 1.343 1.522 2.073.21.332.595 1.407.595 1.015.542.902 1.038.45 1.358-.09.788-1.33.992-3.038 1.271-4.526.888-4.733 1.954-9.12 2.489-13.922.745-6.71 2.869-12.716 4.207-19.216.823-3.993.428-7.79 1.854-11.75 1.084-3.013 1.618-7.68 3.943-10.005.063-.063 1.966 5.483 2.462 5.929.719.647 1.88-2.486 2.487-1.88 1.32 1.322 1.78 4.426 2.382 6.115 1.543 4.333 2.84 8.812 4.711 13.022.025.054.427-.812.477-.921.39-.864.742-1.747 1.132-2.611.932-2.061 3.322-3.87 3.794-6.01 1.635-7.426 3.087-15.224 5.879-22.44.192-.498.968.01 1.444-.24 2.713-1.43 2.405 2.244 3.745 4.7.2.366 1.234 4.043 1.65 3.705 1.504-1.221 1.79-5.813 2.259-7.588 1.925-7.283 3.977-14.1 3.75-21.768" stroke-width="8.3333" stroke-miterlimit="1.5" stroke-linecap="round" stroke-linejoin="round"> </path> </g> </svg>'};function Dp(en,k,m){return en.$$set=S=>{m(0,k=Ve(Ve({},k),Ko(S)))},k=Ko(k),[k]}class Rp extends mp{constructor(k){super(),bp(this,k,Dp,zp,wp,{})}}export{Rp as default,Uo as metadata};
